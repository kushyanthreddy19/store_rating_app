{"ast":null,"code":"\"use client\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\kushy\\\\Downloads\\\\store-ratings\\\\client\\\\src\\\\pages\\\\user\\\\Dashboard.js\",\n  _s = $RefreshSig$();\nimport { useEffect, useState } from \"react\";\nimport SortableTable from \"../../components/SortableTable\";\nimport api from \"../../services/api\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst UserDashboard = () => {\n  _s();\n  const [stores, setStores] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(\"\");\n  const [successMessage, setSuccessMessage] = useState(\"\");\n  const [filters, setFilters] = useState({\n    name: \"\",\n    address: \"\"\n  });\n  const [showRatingModal, setShowRatingModal] = useState(false);\n  const [selectedStore, setSelectedStore] = useState(null);\n  const [rating, setRating] = useState(0);\n  const [ratingLoading, setRatingLoading] = useState(false);\n  useEffect(() => {\n    fetchStores();\n  }, []);\n  const fetchStores = async () => {\n    try {\n      setLoading(true);\n      const response = await api.get(\"/user/stores\", {\n        params: filters,\n        headers: {\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n      // Validate and transform data\n      const validatedData = response.data.map(store => ({\n        ...store,\n        rating: store.rating ? Number(store.rating) : null,\n        userRating: store.userRating ? Number(store.userRating) : null\n      }));\n      setStores(validatedData);\n      setError(\"\");\n    } catch (err) {\n      setError(\"Failed to load stores. Please try again.\");\n      console.error(\"Fetch stores error:\", err);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleFilterChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFilters({\n      ...filters,\n      [name]: value\n    });\n  };\n  const applyFilters = e => {\n    e.preventDefault();\n    fetchStores();\n  };\n  const resetFilters = () => {\n    setFilters({\n      name: \"\",\n      address: \"\"\n    });\n  };\n  const openRatingModal = store => {\n    setSelectedStore(store);\n    setRating(store.userRating || 0);\n    setShowRatingModal(true);\n    setError(\"\");\n    setSuccessMessage(\"\");\n  };\n  const submitRating = async e => {\n    e.preventDefault();\n\n    // Validate rating\n    if (rating < 1 || rating > 5) {\n      setError(\"Rating must be between 1 and 5\");\n      return;\n    }\n    setRatingLoading(true);\n    try {\n      // Optimistic update\n      const updatedStores = stores.map(store => store.id === selectedStore.id ? {\n        ...store,\n        userRating: rating,\n        rating: calculateNewAverage(store.rating, rating, store.userRating)\n      } : store);\n      setStores(updatedStores);\n\n      // Submit to server\n      const response = await api.post(`/user/stores/${selectedStore.id}/rate`, {\n        rating\n      }, {\n        headers: {\n          'Cache-Control': 'no-cache'\n        }\n      });\n\n      // Update with server data\n      setStores(prev => prev.map(store => store.id === response.data.store.id ? {\n        ...store,\n        rating: response.data.store.rating,\n        userRating: response.data.store.user_rating\n      } : store));\n      setSuccessMessage(response.data.message);\n      setTimeout(() => setSuccessMessage(\"\"), 3000);\n      setShowRatingModal(false);\n    } catch (err) {\n      var _err$response, _err$response$data, _err$response2, _err$response2$data;\n      // Revert optimistic update on error\n      setStores(prev => prev.map(store => store.id === selectedStore.id ? selectedStore : store));\n      const errorMsg = ((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.message) || ((_err$response2 = err.response) === null || _err$response2 === void 0 ? void 0 : (_err$response2$data = _err$response2.data) === null || _err$response2$data === void 0 ? void 0 : _err$response2$data.error) || err.message || \"Failed to submit rating\";\n      setError(errorMsg);\n      console.error(\"Rating submission error:\", err);\n    } finally {\n      setRatingLoading(false);\n    }\n  };\n  const calculateNewAverage = (currentAvg, newRating, oldRating) => {\n    if (!oldRating) {\n      // New rating - simple average for demo (would need rating count in real app)\n      return currentAvg ? (currentAvg + newRating) / 2 : newRating;\n    } else {\n      // Updated rating - simple calculation for demo\n      return currentAvg + (newRating - oldRating) / 2;\n    }\n  };\n  const columns = [{\n    key: \"name\",\n    label: \"Store Name\",\n    sortable: true\n  }, {\n    key: \"address\",\n    label: \"Address\",\n    sortable: true\n  }, {\n    key: \"rating\",\n    label: \"Overall Rating\",\n    sortable: true,\n    render: row => {\n      const numericRating = Number(row.rating);\n      return !isNaN(numericRating) ? `${numericRating.toFixed(1)} ★` : \"No ratings\";\n    }\n  }, {\n    key: \"userRating\",\n    label: \"Your Rating\",\n    sortable: true,\n    render: row => {\n      const numericRating = Number(row.userRating);\n      return !isNaN(numericRating) ? `${numericRating} ★` : \"Not rated\";\n    }\n  }, {\n    key: \"actions\",\n    label: \"Actions\",\n    sortable: false,\n    render: row => /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"rate-button\",\n      onClick: e => {\n        e.stopPropagation();\n        openRatingModal(row);\n      },\n      disabled: ratingLoading,\n      children: row.userRating ? \"Update Rating\" : \"Rate Store\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }, this)\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"user-dashboard\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Stores\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), successMessage && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert success\",\n      children: successMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 9\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert error\",\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"filters\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Search Stores\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: applyFilters,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-grid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"name\",\n              children: \"Store Name\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"name\",\n              name: \"name\",\n              value: filters.name,\n              onChange: handleFilterChange,\n              placeholder: \"Search by name...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"address\",\n              children: \"Address\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              id: \"address\",\n              name: \"address\",\n              value: filters.address,\n              onChange: handleFilterChange,\n              placeholder: \"Search by address...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filter-actions\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"btn primary\",\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn secondary\",\n            onClick: resetFilters,\n            children: \"Reset\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading-state\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading stores...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(SortableTable, {\n      columns: columns,\n      data: stores,\n      emptyMessage: \"No stores found matching your criteria\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 9\n    }, this), showRatingModal && selectedStore && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-backdrop\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: selectedStore.userRating ? \"Update Your Rating\" : \"Rate This Store\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"close-button\",\n            onClick: () => setShowRatingModal(false),\n            disabled: ratingLoading,\n            children: \"\\xD7\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: submitRating,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"store-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: selectedStore.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: selectedStore.address\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rating-input\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"Your Rating:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 300,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"stars\",\n                children: [1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: `star ${star <= rating ? \"active\" : \"\"}`,\n                  onClick: () => setRating(star),\n                  disabled: ratingLoading,\n                  children: \"\\u2605\"\n                }, star, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 303,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rating-value\",\n                children: [\"Selected: \", rating, \" star\", rating !== 1 ? 's' : '']\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 314,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-footer\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              className: \"btn secondary\",\n              onClick: () => setShowRatingModal(false),\n              disabled: ratingLoading,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn primary\",\n              disabled: ratingLoading,\n              children: ratingLoading ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"spinner\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 23\n                }, this), \"Processing...\"]\n              }, void 0, true) : \"Submit Rating\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      jsx: true,\n      children: `\n        .user-dashboard {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n        \n        h1 {\n          color: #333;\n          margin-bottom: 30px;\n        }\n        \n        .alert {\n          padding: 15px;\n          margin-bottom: 20px;\n          border-radius: 4px;\n        }\n        \n        .alert.success {\n          background-color: #d4edda;\n          color: #155724;\n          border: 1px solid #c3e6cb;\n        }\n        \n        .alert.error {\n          background-color: #f8d7da;\n          color: #721c24;\n          border: 1px solid #f5c6cb;\n        }\n        \n        .filters {\n          background: #f8f9fa;\n          padding: 20px;\n          border-radius: 8px;\n          margin-bottom: 30px;\n        }\n        \n        .filter-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n          margin-bottom: 20px;\n        }\n        \n        .form-group {\n          margin-bottom: 15px;\n        }\n        \n        label {\n          display: block;\n          margin-bottom: 5px;\n          font-weight: 500;\n        }\n        \n        input {\n          width: 100%;\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 16px;\n        }\n        \n        .filter-actions {\n          display: flex;\n          gap: 10px;\n        }\n        \n        .btn {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 16px;\n          transition: all 0.3s;\n        }\n        \n        .btn.primary {\n          background-color: #007bff;\n          color: white;\n        }\n        \n        .btn.primary:hover {\n          background-color: #0069d9;\n        }\n        \n        .btn.secondary {\n          background-color: #6c757d;\n          color: white;\n        }\n        \n        .btn.secondary:hover {\n          background-color: #5a6268;\n        }\n        \n        .loading-state {\n          text-align: center;\n          padding: 40px;\n        }\n        \n        .spinner {\n          display: inline-block;\n          width: 40px;\n          height: 40px;\n          border: 4px solid rgba(0, 0, 0, 0.1);\n          border-radius: 50%;\n          border-top-color: #007bff;\n          animation: spin 1s ease-in-out infinite;\n          margin-bottom: 10px;\n        }\n        \n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        \n        .rate-button {\n          background-color: #17a2b8;\n          color: white;\n          border: none;\n          padding: 5px 10px;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .rate-button:hover {\n          background-color: #138496;\n        }\n        \n        .rate-button:disabled {\n          background-color: #6c757d;\n          cursor: not-allowed;\n        }\n        \n        .modal-backdrop {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n        \n        .modal {\n          background: white;\n          border-radius: 8px;\n          width: 100%;\n          max-width: 500px;\n          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n        }\n        \n        .modal-header {\n          padding: 20px;\n          border-bottom: 1px solid #eee;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .close-button {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #6c757d;\n        }\n        \n        .modal-body {\n          padding: 20px;\n        }\n        \n        .store-info {\n          margin-bottom: 20px;\n        }\n        \n        .rating-input {\n          margin-bottom: 20px;\n        }\n        \n        .stars {\n          display: flex;\n          gap: 10px;\n          margin: 10px 0;\n        }\n        \n        .star {\n          background: none;\n          border: none;\n          font-size: 30px;\n          color: #e4e5e9;\n          cursor: pointer;\n          transition: all 0.2s;\n          padding: 0;\n        }\n        \n        .star.active {\n          color: #ffc107;\n        }\n        \n        .star:hover:not(.active) {\n          color: #ffc107;\n          opacity: 0.7;\n        }\n        \n        .rating-value {\n          font-size: 14px;\n          color: #6c757d;\n        }\n        \n        .modal-footer {\n          padding: 20px;\n          border-top: 1px solid #eee;\n          display: flex;\n          justify-content: flex-end;\n          gap: 10px;\n        }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 201,\n    columnNumber: 5\n  }, this);\n};\n_s(UserDashboard, \"ShL6i6n/PoXYe05Bn4g6LUnNUaQ=\");\n_c = UserDashboard;\nexport default UserDashboard;\nvar _c;\n$RefreshReg$(_c, \"UserDashboard\");","map":{"version":3,"names":["_jsxFileName","_s","$RefreshSig$","useEffect","useState","SortableTable","api","jsxDEV","_jsxDEV","Fragment","_Fragment","UserDashboard","stores","setStores","loading","setLoading","error","setError","successMessage","setSuccessMessage","filters","setFilters","name","address","showRatingModal","setShowRatingModal","selectedStore","setSelectedStore","rating","setRating","ratingLoading","setRatingLoading","fetchStores","response","get","params","headers","validatedData","data","map","store","Number","userRating","err","console","handleFilterChange","e","value","target","applyFilters","preventDefault","resetFilters","openRatingModal","submitRating","updatedStores","id","calculateNewAverage","post","prev","user_rating","message","setTimeout","_err$response","_err$response$data","_err$response2","_err$response2$data","errorMsg","currentAvg","newRating","oldRating","columns","key","label","sortable","render","row","numericRating","isNaN","toFixed","className","onClick","stopPropagation","disabled","children","fileName","lineNumber","columnNumber","onSubmit","htmlFor","type","onChange","placeholder","emptyMessage","star","jsx","_c","$RefreshReg$"],"sources":["C:/Users/kushy/Downloads/store-ratings/client/src/pages/user/Dashboard.js"],"sourcesContent":["\"use client\"\n\nimport { useEffect, useState } from \"react\"\nimport SortableTable from \"../../components/SortableTable\"\nimport api from \"../../services/api\"\n\nconst UserDashboard = () => {\n  const [stores, setStores] = useState([])\n  const [loading, setLoading] = useState(true)\n  const [error, setError] = useState(\"\")\n  const [successMessage, setSuccessMessage] = useState(\"\")\n  const [filters, setFilters] = useState({\n    name: \"\",\n    address: \"\",\n  })\n  const [showRatingModal, setShowRatingModal] = useState(false)\n  const [selectedStore, setSelectedStore] = useState(null)\n  const [rating, setRating] = useState(0)\n  const [ratingLoading, setRatingLoading] = useState(false)\n\n  useEffect(() => {\n    fetchStores()\n  }, [])\n\n  const fetchStores = async () => {\n    try {\n      setLoading(true)\n      const response = await api.get(\"/user/stores\", { \n        params: filters,\n        headers: {\n          'Cache-Control': 'no-cache'\n        }\n      })\n      \n      // Validate and transform data\n      const validatedData = response.data.map(store => ({\n        ...store,\n        rating: store.rating ? Number(store.rating) : null,\n        userRating: store.userRating ? Number(store.userRating) : null\n      }))\n      \n      setStores(validatedData)\n      setError(\"\")\n    } catch (err) {\n      setError(\"Failed to load stores. Please try again.\")\n      console.error(\"Fetch stores error:\", err)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  const handleFilterChange = (e) => {\n    const { name, value } = e.target\n    setFilters({\n      ...filters,\n      [name]: value,\n    })\n  }\n\n  const applyFilters = (e) => {\n    e.preventDefault()\n    fetchStores()\n  }\n\n  const resetFilters = () => {\n    setFilters({\n      name: \"\",\n      address: \"\",\n    })\n  }\n\n  const openRatingModal = (store) => {\n    setSelectedStore(store)\n    setRating(store.userRating || 0)\n    setShowRatingModal(true)\n    setError(\"\")\n    setSuccessMessage(\"\")\n  }\n\n  const submitRating = async (e) => {\n    e.preventDefault()\n    \n    // Validate rating\n    if (rating < 1 || rating > 5) {\n      setError(\"Rating must be between 1 and 5\")\n      return\n    }\n\n    setRatingLoading(true)\n    \n    try {\n      // Optimistic update\n      const updatedStores = stores.map(store => \n        store.id === selectedStore.id \n          ? { \n              ...store, \n              userRating: rating,\n              rating: calculateNewAverage(store.rating, rating, store.userRating)\n            } \n          : store\n      )\n      setStores(updatedStores)\n\n      // Submit to server\n      const response = await api.post(\n        `/user/stores/${selectedStore.id}/rate`, \n        { rating },\n        {\n          headers: {\n            'Cache-Control': 'no-cache'\n          }\n        }\n      )\n\n      // Update with server data\n      setStores(prev => \n        prev.map(store => \n          store.id === response.data.store.id \n            ? { \n                ...store, \n                rating: response.data.store.rating,\n                userRating: response.data.store.user_rating\n              } \n            : store\n        )\n      )\n\n      setSuccessMessage(response.data.message)\n      setTimeout(() => setSuccessMessage(\"\"), 3000)\n      setShowRatingModal(false)\n    } catch (err) {\n      // Revert optimistic update on error\n      setStores(prev => \n        prev.map(store => \n          store.id === selectedStore.id ? selectedStore : store\n        )\n      )\n      \n      const errorMsg = err.response?.data?.message || \n                      err.response?.data?.error ||\n                      err.message || \n                      \"Failed to submit rating\"\n      setError(errorMsg)\n      console.error(\"Rating submission error:\", err)\n    } finally {\n      setRatingLoading(false)\n    }\n  }\n\n  const calculateNewAverage = (currentAvg, newRating, oldRating) => {\n    if (!oldRating) {\n      // New rating - simple average for demo (would need rating count in real app)\n      return currentAvg ? ((currentAvg + newRating) / 2) : newRating\n    } else {\n      // Updated rating - simple calculation for demo\n      return currentAvg + (newRating - oldRating) / 2\n    }\n  }\n\n  const columns = [\n    { key: \"name\", label: \"Store Name\", sortable: true },\n    { key: \"address\", label: \"Address\", sortable: true },\n    {\n      key: \"rating\",\n      label: \"Overall Rating\",\n      sortable: true,\n      render: (row) => {\n        const numericRating = Number(row.rating)\n        return !isNaN(numericRating) ? `${numericRating.toFixed(1)} ★` : \"No ratings\"\n      },\n    },\n    {\n      key: \"userRating\",\n      label: \"Your Rating\",\n      sortable: true,\n      render: (row) => {\n        const numericRating = Number(row.userRating)\n        return !isNaN(numericRating) ? `${numericRating} ★` : \"Not rated\"\n      },\n    },\n    {\n      key: \"actions\",\n      label: \"Actions\",\n      sortable: false,\n      render: (row) => (\n        <button\n          className=\"rate-button\"\n          onClick={(e) => {\n            e.stopPropagation()\n            openRatingModal(row)\n          }}\n          disabled={ratingLoading}\n        >\n          {row.userRating ? \"Update Rating\" : \"Rate Store\"}\n        </button>\n      ),\n    },\n  ]\n\n  return (\n    <div className=\"user-dashboard\">\n      <h1>Stores</h1>\n      \n      {/* Status messages */}\n      {successMessage && (\n        <div className=\"alert success\">\n          {successMessage}\n        </div>\n      )}\n      {error && (\n        <div className=\"alert error\">\n          {error}\n        </div>\n      )}\n\n      {/* Filters */}\n      <div className=\"filters\">\n        <h3>Search Stores</h3>\n        <form onSubmit={applyFilters}>\n          <div className=\"filter-grid\">\n            <div className=\"form-group\">\n              <label htmlFor=\"name\">Store Name</label>\n              <input \n                type=\"text\" \n                id=\"name\" \n                name=\"name\" \n                value={filters.name} \n                onChange={handleFilterChange} \n                placeholder=\"Search by name...\"\n              />\n            </div>\n\n            <div className=\"form-group\">\n              <label htmlFor=\"address\">Address</label>\n              <input \n                type=\"text\" \n                id=\"address\" \n                name=\"address\" \n                value={filters.address} \n                onChange={handleFilterChange} \n                placeholder=\"Search by address...\"\n              />\n            </div>\n          </div>\n\n          <div className=\"filter-actions\">\n            <button type=\"submit\" className=\"btn primary\">\n              Search\n            </button>\n            <button \n              type=\"button\" \n              className=\"btn secondary\" \n              onClick={resetFilters}\n            >\n              Reset\n            </button>\n          </div>\n        </form>\n      </div>\n\n      {/* Stores table */}\n      {loading ? (\n        <div className=\"loading-state\">\n          <div className=\"spinner\"></div>\n          <p>Loading stores...</p>\n        </div>\n      ) : (\n        <SortableTable \n          columns={columns} \n          data={stores} \n          emptyMessage=\"No stores found matching your criteria\"\n        />\n      )}\n\n      {/* Rating modal */}\n      {showRatingModal && selectedStore && (\n        <div className=\"modal-backdrop\">\n          <div className=\"modal\">\n            <div className=\"modal-header\">\n              <h2>\n                {selectedStore.userRating ? \"Update Your Rating\" : \"Rate This Store\"}\n              </h2>\n              <button \n                className=\"close-button\" \n                onClick={() => setShowRatingModal(false)}\n                disabled={ratingLoading}\n              >\n                &times;\n              </button>\n            </div>\n\n            <form onSubmit={submitRating}>\n              <div className=\"modal-body\">\n                <div className=\"store-info\">\n                  <h3>{selectedStore.name}</h3>\n                  <p>{selectedStore.address}</p>\n                </div>\n\n                <div className=\"rating-input\">\n                  <label>Your Rating:</label>\n                  <div className=\"stars\">\n                    {[1, 2, 3, 4, 5].map((star) => (\n                      <button\n                        key={star}\n                        type=\"button\"\n                        className={`star ${star <= rating ? \"active\" : \"\"}`}\n                        onClick={() => setRating(star)}\n                        disabled={ratingLoading}\n                      >\n                        ★\n                      </button>\n                    ))}\n                  </div>\n                  <div className=\"rating-value\">\n                    Selected: {rating} star{rating !== 1 ? 's' : ''}\n                  </div>\n                </div>\n              </div>\n\n              <div className=\"modal-footer\">\n                <button\n                  type=\"button\"\n                  className=\"btn secondary\"\n                  onClick={() => setShowRatingModal(false)}\n                  disabled={ratingLoading}\n                >\n                  Cancel\n                </button>\n                <button\n                  type=\"submit\"\n                  className=\"btn primary\"\n                  disabled={ratingLoading}\n                >\n                  {ratingLoading ? (\n                    <>\n                      <span className=\"spinner\"></span>\n                      Processing...\n                    </>\n                  ) : (\n                    \"Submit Rating\"\n                  )}\n                </button>\n              </div>\n            </form>\n          </div>\n        </div>\n      )}\n\n      <style jsx>{`\n        .user-dashboard {\n          max-width: 1200px;\n          margin: 0 auto;\n          padding: 20px;\n        }\n        \n        h1 {\n          color: #333;\n          margin-bottom: 30px;\n        }\n        \n        .alert {\n          padding: 15px;\n          margin-bottom: 20px;\n          border-radius: 4px;\n        }\n        \n        .alert.success {\n          background-color: #d4edda;\n          color: #155724;\n          border: 1px solid #c3e6cb;\n        }\n        \n        .alert.error {\n          background-color: #f8d7da;\n          color: #721c24;\n          border: 1px solid #f5c6cb;\n        }\n        \n        .filters {\n          background: #f8f9fa;\n          padding: 20px;\n          border-radius: 8px;\n          margin-bottom: 30px;\n        }\n        \n        .filter-grid {\n          display: grid;\n          grid-template-columns: 1fr 1fr;\n          gap: 20px;\n          margin-bottom: 20px;\n        }\n        \n        .form-group {\n          margin-bottom: 15px;\n        }\n        \n        label {\n          display: block;\n          margin-bottom: 5px;\n          font-weight: 500;\n        }\n        \n        input {\n          width: 100%;\n          padding: 10px;\n          border: 1px solid #ddd;\n          border-radius: 4px;\n          font-size: 16px;\n        }\n        \n        .filter-actions {\n          display: flex;\n          gap: 10px;\n        }\n        \n        .btn {\n          padding: 10px 20px;\n          border: none;\n          border-radius: 4px;\n          cursor: pointer;\n          font-size: 16px;\n          transition: all 0.3s;\n        }\n        \n        .btn.primary {\n          background-color: #007bff;\n          color: white;\n        }\n        \n        .btn.primary:hover {\n          background-color: #0069d9;\n        }\n        \n        .btn.secondary {\n          background-color: #6c757d;\n          color: white;\n        }\n        \n        .btn.secondary:hover {\n          background-color: #5a6268;\n        }\n        \n        .loading-state {\n          text-align: center;\n          padding: 40px;\n        }\n        \n        .spinner {\n          display: inline-block;\n          width: 40px;\n          height: 40px;\n          border: 4px solid rgba(0, 0, 0, 0.1);\n          border-radius: 50%;\n          border-top-color: #007bff;\n          animation: spin 1s ease-in-out infinite;\n          margin-bottom: 10px;\n        }\n        \n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n        \n        .rate-button {\n          background-color: #17a2b8;\n          color: white;\n          border: none;\n          padding: 5px 10px;\n          border-radius: 4px;\n          cursor: pointer;\n          transition: background-color 0.3s;\n        }\n        \n        .rate-button:hover {\n          background-color: #138496;\n        }\n        \n        .rate-button:disabled {\n          background-color: #6c757d;\n          cursor: not-allowed;\n        }\n        \n        .modal-backdrop {\n          position: fixed;\n          top: 0;\n          left: 0;\n          right: 0;\n          bottom: 0;\n          background-color: rgba(0, 0, 0, 0.5);\n          display: flex;\n          justify-content: center;\n          align-items: center;\n          z-index: 1000;\n        }\n        \n        .modal {\n          background: white;\n          border-radius: 8px;\n          width: 100%;\n          max-width: 500px;\n          box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);\n        }\n        \n        .modal-header {\n          padding: 20px;\n          border-bottom: 1px solid #eee;\n          display: flex;\n          justify-content: space-between;\n          align-items: center;\n        }\n        \n        .close-button {\n          background: none;\n          border: none;\n          font-size: 24px;\n          cursor: pointer;\n          color: #6c757d;\n        }\n        \n        .modal-body {\n          padding: 20px;\n        }\n        \n        .store-info {\n          margin-bottom: 20px;\n        }\n        \n        .rating-input {\n          margin-bottom: 20px;\n        }\n        \n        .stars {\n          display: flex;\n          gap: 10px;\n          margin: 10px 0;\n        }\n        \n        .star {\n          background: none;\n          border: none;\n          font-size: 30px;\n          color: #e4e5e9;\n          cursor: pointer;\n          transition: all 0.2s;\n          padding: 0;\n        }\n        \n        .star.active {\n          color: #ffc107;\n        }\n        \n        .star:hover:not(.active) {\n          color: #ffc107;\n          opacity: 0.7;\n        }\n        \n        .rating-value {\n          font-size: 14px;\n          color: #6c757d;\n        }\n        \n        .modal-footer {\n          padding: 20px;\n          border-top: 1px solid #eee;\n          display: flex;\n          justify-content: flex-end;\n          gap: 10px;\n        }\n      `}</style>\n    </div>\n  )\n}\n\nexport default UserDashboard"],"mappings":"AAAA,YAAY;;AAAA,IAAAA,YAAA;EAAAC,EAAA,GAAAC,YAAA;AAEZ,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,aAAa,MAAM,gCAAgC;AAC1D,OAAOC,GAAG,MAAM,oBAAoB;AAAA,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEpC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAAAV,EAAA;EAC1B,MAAM,CAACW,MAAM,EAAEC,SAAS,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EACxC,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACc,cAAc,EAAEC,iBAAiB,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EACxD,MAAM,CAACgB,OAAO,EAAEC,UAAU,CAAC,GAAGjB,QAAQ,CAAC;IACrCkB,IAAI,EAAE,EAAE;IACRC,OAAO,EAAE;EACX,CAAC,CAAC;EACF,MAAM,CAACC,eAAe,EAAEC,kBAAkB,CAAC,GAAGrB,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACsB,aAAa,EAAEC,gBAAgB,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACwB,MAAM,EAAEC,SAAS,CAAC,GAAGzB,QAAQ,CAAC,CAAC,CAAC;EACvC,MAAM,CAAC0B,aAAa,EAAEC,gBAAgB,CAAC,GAAG3B,QAAQ,CAAC,KAAK,CAAC;EAEzDD,SAAS,CAAC,MAAM;IACd6B,WAAW,CAAC,CAAC;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMA,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI;MACFjB,UAAU,CAAC,IAAI,CAAC;MAChB,MAAMkB,QAAQ,GAAG,MAAM3B,GAAG,CAAC4B,GAAG,CAAC,cAAc,EAAE;QAC7CC,MAAM,EAAEf,OAAO;QACfgB,OAAO,EAAE;UACP,eAAe,EAAE;QACnB;MACF,CAAC,CAAC;;MAEF;MACA,MAAMC,aAAa,GAAGJ,QAAQ,CAACK,IAAI,CAACC,GAAG,CAACC,KAAK,KAAK;QAChD,GAAGA,KAAK;QACRZ,MAAM,EAAEY,KAAK,CAACZ,MAAM,GAAGa,MAAM,CAACD,KAAK,CAACZ,MAAM,CAAC,GAAG,IAAI;QAClDc,UAAU,EAAEF,KAAK,CAACE,UAAU,GAAGD,MAAM,CAACD,KAAK,CAACE,UAAU,CAAC,GAAG;MAC5D,CAAC,CAAC,CAAC;MAEH7B,SAAS,CAACwB,aAAa,CAAC;MACxBpB,QAAQ,CAAC,EAAE,CAAC;IACd,CAAC,CAAC,OAAO0B,GAAG,EAAE;MACZ1B,QAAQ,CAAC,0CAA0C,CAAC;MACpD2B,OAAO,CAAC5B,KAAK,CAAC,qBAAqB,EAAE2B,GAAG,CAAC;IAC3C,CAAC,SAAS;MACR5B,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAM8B,kBAAkB,GAAIC,CAAC,IAAK;IAChC,MAAM;MAAExB,IAAI;MAAEyB;IAAM,CAAC,GAAGD,CAAC,CAACE,MAAM;IAChC3B,UAAU,CAAC;MACT,GAAGD,OAAO;MACV,CAACE,IAAI,GAAGyB;IACV,CAAC,CAAC;EACJ,CAAC;EAED,MAAME,YAAY,GAAIH,CAAC,IAAK;IAC1BA,CAAC,CAACI,cAAc,CAAC,CAAC;IAClBlB,WAAW,CAAC,CAAC;EACf,CAAC;EAED,MAAMmB,YAAY,GAAGA,CAAA,KAAM;IACzB9B,UAAU,CAAC;MACTC,IAAI,EAAE,EAAE;MACRC,OAAO,EAAE;IACX,CAAC,CAAC;EACJ,CAAC;EAED,MAAM6B,eAAe,GAAIZ,KAAK,IAAK;IACjCb,gBAAgB,CAACa,KAAK,CAAC;IACvBX,SAAS,CAACW,KAAK,CAACE,UAAU,IAAI,CAAC,CAAC;IAChCjB,kBAAkB,CAAC,IAAI,CAAC;IACxBR,QAAQ,CAAC,EAAE,CAAC;IACZE,iBAAiB,CAAC,EAAE,CAAC;EACvB,CAAC;EAED,MAAMkC,YAAY,GAAG,MAAOP,CAAC,IAAK;IAChCA,CAAC,CAACI,cAAc,CAAC,CAAC;;IAElB;IACA,IAAItB,MAAM,GAAG,CAAC,IAAIA,MAAM,GAAG,CAAC,EAAE;MAC5BX,QAAQ,CAAC,gCAAgC,CAAC;MAC1C;IACF;IAEAc,gBAAgB,CAAC,IAAI,CAAC;IAEtB,IAAI;MACF;MACA,MAAMuB,aAAa,GAAG1C,MAAM,CAAC2B,GAAG,CAACC,KAAK,IACpCA,KAAK,CAACe,EAAE,KAAK7B,aAAa,CAAC6B,EAAE,GACzB;QACE,GAAGf,KAAK;QACRE,UAAU,EAAEd,MAAM;QAClBA,MAAM,EAAE4B,mBAAmB,CAAChB,KAAK,CAACZ,MAAM,EAAEA,MAAM,EAAEY,KAAK,CAACE,UAAU;MACpE,CAAC,GACDF,KACN,CAAC;MACD3B,SAAS,CAACyC,aAAa,CAAC;;MAExB;MACA,MAAMrB,QAAQ,GAAG,MAAM3B,GAAG,CAACmD,IAAI,CAC7B,gBAAgB/B,aAAa,CAAC6B,EAAE,OAAO,EACvC;QAAE3B;MAAO,CAAC,EACV;QACEQ,OAAO,EAAE;UACP,eAAe,EAAE;QACnB;MACF,CACF,CAAC;;MAED;MACAvB,SAAS,CAAC6C,IAAI,IACZA,IAAI,CAACnB,GAAG,CAACC,KAAK,IACZA,KAAK,CAACe,EAAE,KAAKtB,QAAQ,CAACK,IAAI,CAACE,KAAK,CAACe,EAAE,GAC/B;QACE,GAAGf,KAAK;QACRZ,MAAM,EAAEK,QAAQ,CAACK,IAAI,CAACE,KAAK,CAACZ,MAAM;QAClCc,UAAU,EAAET,QAAQ,CAACK,IAAI,CAACE,KAAK,CAACmB;MAClC,CAAC,GACDnB,KACN,CACF,CAAC;MAEDrB,iBAAiB,CAACc,QAAQ,CAACK,IAAI,CAACsB,OAAO,CAAC;MACxCC,UAAU,CAAC,MAAM1C,iBAAiB,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;MAC7CM,kBAAkB,CAAC,KAAK,CAAC;IAC3B,CAAC,CAAC,OAAOkB,GAAG,EAAE;MAAA,IAAAmB,aAAA,EAAAC,kBAAA,EAAAC,cAAA,EAAAC,mBAAA;MACZ;MACApD,SAAS,CAAC6C,IAAI,IACZA,IAAI,CAACnB,GAAG,CAACC,KAAK,IACZA,KAAK,CAACe,EAAE,KAAK7B,aAAa,CAAC6B,EAAE,GAAG7B,aAAa,GAAGc,KAClD,CACF,CAAC;MAED,MAAM0B,QAAQ,GAAG,EAAAJ,aAAA,GAAAnB,GAAG,CAACV,QAAQ,cAAA6B,aAAA,wBAAAC,kBAAA,GAAZD,aAAA,CAAcxB,IAAI,cAAAyB,kBAAA,uBAAlBA,kBAAA,CAAoBH,OAAO,OAAAI,cAAA,GAC5BrB,GAAG,CAACV,QAAQ,cAAA+B,cAAA,wBAAAC,mBAAA,GAAZD,cAAA,CAAc1B,IAAI,cAAA2B,mBAAA,uBAAlBA,mBAAA,CAAoBjD,KAAK,KACzB2B,GAAG,CAACiB,OAAO,IACX,yBAAyB;MACzC3C,QAAQ,CAACiD,QAAQ,CAAC;MAClBtB,OAAO,CAAC5B,KAAK,CAAC,0BAA0B,EAAE2B,GAAG,CAAC;IAChD,CAAC,SAAS;MACRZ,gBAAgB,CAAC,KAAK,CAAC;IACzB;EACF,CAAC;EAED,MAAMyB,mBAAmB,GAAGA,CAACW,UAAU,EAAEC,SAAS,EAAEC,SAAS,KAAK;IAChE,IAAI,CAACA,SAAS,EAAE;MACd;MACA,OAAOF,UAAU,GAAI,CAACA,UAAU,GAAGC,SAAS,IAAI,CAAC,GAAIA,SAAS;IAChE,CAAC,MAAM;MACL;MACA,OAAOD,UAAU,GAAG,CAACC,SAAS,GAAGC,SAAS,IAAI,CAAC;IACjD;EACF,CAAC;EAED,MAAMC,OAAO,GAAG,CACd;IAAEC,GAAG,EAAE,MAAM;IAAEC,KAAK,EAAE,YAAY;IAAEC,QAAQ,EAAE;EAAK,CAAC,EACpD;IAAEF,GAAG,EAAE,SAAS;IAAEC,KAAK,EAAE,SAAS;IAAEC,QAAQ,EAAE;EAAK,CAAC,EACpD;IACEF,GAAG,EAAE,QAAQ;IACbC,KAAK,EAAE,gBAAgB;IACvBC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAGC,GAAG,IAAK;MACf,MAAMC,aAAa,GAAGnC,MAAM,CAACkC,GAAG,CAAC/C,MAAM,CAAC;MACxC,OAAO,CAACiD,KAAK,CAACD,aAAa,CAAC,GAAG,GAAGA,aAAa,CAACE,OAAO,CAAC,CAAC,CAAC,IAAI,GAAG,YAAY;IAC/E;EACF,CAAC,EACD;IACEP,GAAG,EAAE,YAAY;IACjBC,KAAK,EAAE,aAAa;IACpBC,QAAQ,EAAE,IAAI;IACdC,MAAM,EAAGC,GAAG,IAAK;MACf,MAAMC,aAAa,GAAGnC,MAAM,CAACkC,GAAG,CAACjC,UAAU,CAAC;MAC5C,OAAO,CAACmC,KAAK,CAACD,aAAa,CAAC,GAAG,GAAGA,aAAa,IAAI,GAAG,WAAW;IACnE;EACF,CAAC,EACD;IACEL,GAAG,EAAE,SAAS;IACdC,KAAK,EAAE,SAAS;IAChBC,QAAQ,EAAE,KAAK;IACfC,MAAM,EAAGC,GAAG,iBACVnE,OAAA;MACEuE,SAAS,EAAC,aAAa;MACvBC,OAAO,EAAGlC,CAAC,IAAK;QACdA,CAAC,CAACmC,eAAe,CAAC,CAAC;QACnB7B,eAAe,CAACuB,GAAG,CAAC;MACtB,CAAE;MACFO,QAAQ,EAAEpD,aAAc;MAAAqD,QAAA,EAEvBR,GAAG,CAACjC,UAAU,GAAG,eAAe,GAAG;IAAY;MAAA0C,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OAC1C;EAEZ,CAAC,CACF;EAED,oBACE9E,OAAA;IAAKuE,SAAS,EAAC,gBAAgB;IAAAI,QAAA,gBAC7B3E,OAAA;MAAA2E,QAAA,EAAI;IAAM;MAAAC,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAGdpE,cAAc,iBACbV,OAAA;MAAKuE,SAAS,EAAC,eAAe;MAAAI,QAAA,EAC3BjE;IAAc;MAAAkE,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OACZ,CACN,EACAtE,KAAK,iBACJR,OAAA;MAAKuE,SAAS,EAAC,aAAa;MAAAI,QAAA,EACzBnE;IAAK;MAAAoE,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAGD9E,OAAA;MAAKuE,SAAS,EAAC,SAAS;MAAAI,QAAA,gBACtB3E,OAAA;QAAA2E,QAAA,EAAI;MAAa;QAAAC,QAAA,EAAApF,YAAA;QAAAqF,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACtB9E,OAAA;QAAM+E,QAAQ,EAAEtC,YAAa;QAAAkC,QAAA,gBAC3B3E,OAAA;UAAKuE,SAAS,EAAC,aAAa;UAAAI,QAAA,gBAC1B3E,OAAA;YAAKuE,SAAS,EAAC,YAAY;YAAAI,QAAA,gBACzB3E,OAAA;cAAOgF,OAAO,EAAC,MAAM;cAAAL,QAAA,EAAC;YAAU;cAAAC,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxC9E,OAAA;cACEiF,IAAI,EAAC,MAAM;cACXlC,EAAE,EAAC,MAAM;cACTjC,IAAI,EAAC,MAAM;cACXyB,KAAK,EAAE3B,OAAO,CAACE,IAAK;cACpBoE,QAAQ,EAAE7C,kBAAmB;cAC7B8C,WAAW,EAAC;YAAmB;cAAAP,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OAChC,CAAC;UAAA;YAAAF,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC,eAEN9E,OAAA;YAAKuE,SAAS,EAAC,YAAY;YAAAI,QAAA,gBACzB3E,OAAA;cAAOgF,OAAO,EAAC,SAAS;cAAAL,QAAA,EAAC;YAAO;cAAAC,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxC9E,OAAA;cACEiF,IAAI,EAAC,MAAM;cACXlC,EAAE,EAAC,SAAS;cACZjC,IAAI,EAAC,SAAS;cACdyB,KAAK,EAAE3B,OAAO,CAACG,OAAQ;cACvBmE,QAAQ,EAAE7C,kBAAmB;cAC7B8C,WAAW,EAAC;YAAsB;cAAAP,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OACnC,CAAC;UAAA;YAAAF,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAF,QAAA,EAAApF,YAAA;UAAAqF,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,eAEN9E,OAAA;UAAKuE,SAAS,EAAC,gBAAgB;UAAAI,QAAA,gBAC7B3E,OAAA;YAAQiF,IAAI,EAAC,QAAQ;YAACV,SAAS,EAAC,aAAa;YAAAI,QAAA,EAAC;UAE9C;YAAAC,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eACT9E,OAAA;YACEiF,IAAI,EAAC,QAAQ;YACbV,SAAS,EAAC,eAAe;YACzBC,OAAO,EAAE7B,YAAa;YAAAgC,QAAA,EACvB;UAED;YAAAC,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAF,QAAA,EAAApF,YAAA;UAAAqF,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAF,QAAA,EAAApF,YAAA;QAAAqF,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC;IAAA;MAAAF,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OACJ,CAAC,EAGLxE,OAAO,gBACNN,OAAA;MAAKuE,SAAS,EAAC,eAAe;MAAAI,QAAA,gBAC5B3E,OAAA;QAAKuE,SAAS,EAAC;MAAS;QAAAK,QAAA,EAAApF,YAAA;QAAAqF,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/B9E,OAAA;QAAA2E,QAAA,EAAG;MAAiB;QAAAC,QAAA,EAAApF,YAAA;QAAAqF,UAAA;QAAAC,YAAA;MAAA,OAAG,CAAC;IAAA;MAAAF,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,gBAEN9E,OAAA,CAACH,aAAa;MACZiE,OAAO,EAAEA,OAAQ;MACjBhC,IAAI,EAAE1B,MAAO;MACbgF,YAAY,EAAC;IAAwC;MAAAR,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OACtD,CACF,EAGA9D,eAAe,IAAIE,aAAa,iBAC/BlB,OAAA;MAAKuE,SAAS,EAAC,gBAAgB;MAAAI,QAAA,eAC7B3E,OAAA;QAAKuE,SAAS,EAAC,OAAO;QAAAI,QAAA,gBACpB3E,OAAA;UAAKuE,SAAS,EAAC,cAAc;UAAAI,QAAA,gBAC3B3E,OAAA;YAAA2E,QAAA,EACGzD,aAAa,CAACgB,UAAU,GAAG,oBAAoB,GAAG;UAAiB;YAAA0C,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OAClE,CAAC,eACL9E,OAAA;YACEuE,SAAS,EAAC,cAAc;YACxBC,OAAO,EAAEA,CAAA,KAAMvD,kBAAkB,CAAC,KAAK,CAAE;YACzCyD,QAAQ,EAAEpD,aAAc;YAAAqD,QAAA,EACzB;UAED;YAAAC,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA;UAAAF,QAAA,EAAApF,YAAA;UAAAqF,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC,eAEN9E,OAAA;UAAM+E,QAAQ,EAAElC,YAAa;UAAA8B,QAAA,gBAC3B3E,OAAA;YAAKuE,SAAS,EAAC,YAAY;YAAAI,QAAA,gBACzB3E,OAAA;cAAKuE,SAAS,EAAC,YAAY;cAAAI,QAAA,gBACzB3E,OAAA;gBAAA2E,QAAA,EAAKzD,aAAa,CAACJ;cAAI;gBAAA8D,QAAA,EAAApF,YAAA;gBAAAqF,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,eAC7B9E,OAAA;gBAAA2E,QAAA,EAAIzD,aAAa,CAACH;cAAO;gBAAA6D,QAAA,EAAApF,YAAA;gBAAAqF,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC;YAAA;cAAAF,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OAC3B,CAAC,eAEN9E,OAAA;cAAKuE,SAAS,EAAC,cAAc;cAAAI,QAAA,gBAC3B3E,OAAA;gBAAA2E,QAAA,EAAO;cAAY;gBAAAC,QAAA,EAAApF,YAAA;gBAAAqF,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAC3B9E,OAAA;gBAAKuE,SAAS,EAAC,OAAO;gBAAAI,QAAA,EACnB,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC5C,GAAG,CAAEsD,IAAI,iBACxBrF,OAAA;kBAEEiF,IAAI,EAAC,QAAQ;kBACbV,SAAS,EAAE,QAAQc,IAAI,IAAIjE,MAAM,GAAG,QAAQ,GAAG,EAAE,EAAG;kBACpDoD,OAAO,EAAEA,CAAA,KAAMnD,SAAS,CAACgE,IAAI,CAAE;kBAC/BX,QAAQ,EAAEpD,aAAc;kBAAAqD,QAAA,EACzB;gBAED,GAPOU,IAAI;kBAAAT,QAAA,EAAApF,YAAA;kBAAAqF,UAAA;kBAAAC,YAAA;gBAAA,OAOH,CACT;cAAC;gBAAAF,QAAA,EAAApF,YAAA;gBAAAqF,UAAA;gBAAAC,YAAA;cAAA,OACC,CAAC,eACN9E,OAAA;gBAAKuE,SAAS,EAAC,cAAc;gBAAAI,QAAA,GAAC,YAClB,EAACvD,MAAM,EAAC,OAAK,EAACA,MAAM,KAAK,CAAC,GAAG,GAAG,GAAG,EAAE;cAAA;gBAAAwD,QAAA,EAAApF,YAAA;gBAAAqF,UAAA;gBAAAC,YAAA;cAAA,OAC5C,CAAC;YAAA;cAAAF,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OACH,CAAC;UAAA;YAAAF,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OACH,CAAC,eAEN9E,OAAA;YAAKuE,SAAS,EAAC,cAAc;YAAAI,QAAA,gBAC3B3E,OAAA;cACEiF,IAAI,EAAC,QAAQ;cACbV,SAAS,EAAC,eAAe;cACzBC,OAAO,EAAEA,CAAA,KAAMvD,kBAAkB,CAAC,KAAK,CAAE;cACzCyD,QAAQ,EAAEpD,aAAc;cAAAqD,QAAA,EACzB;YAED;cAAAC,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT9E,OAAA;cACEiF,IAAI,EAAC,QAAQ;cACbV,SAAS,EAAC,aAAa;cACvBG,QAAQ,EAAEpD,aAAc;cAAAqD,QAAA,EAEvBrD,aAAa,gBACZtB,OAAA,CAAAE,SAAA;gBAAAyE,QAAA,gBACE3E,OAAA;kBAAMuE,SAAS,EAAC;gBAAS;kBAAAK,QAAA,EAAApF,YAAA;kBAAAqF,UAAA;kBAAAC,YAAA;gBAAA,OAAO,CAAC,iBAEnC;cAAA,eAAE,CAAC,GAEH;YACD;cAAAF,QAAA,EAAApF,YAAA;cAAAqF,UAAA;cAAAC,YAAA;YAAA,OACK,CAAC;UAAA;YAAAF,QAAA,EAAApF,YAAA;YAAAqF,UAAA;YAAAC,YAAA;UAAA,OACN,CAAC;QAAA;UAAAF,QAAA,EAAApF,YAAA;UAAAqF,UAAA;UAAAC,YAAA;QAAA,OACF,CAAC;MAAA;QAAAF,QAAA,EAAApF,YAAA;QAAAqF,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAF,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OACH,CACN,eAED9E,OAAA;MAAOsF,GAAG;MAAAX,QAAA,EAAE;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IAAO;MAAAC,QAAA,EAAApF,YAAA;MAAAqF,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAF,QAAA,EAAApF,YAAA;IAAAqF,UAAA;IAAAC,YAAA;EAAA,OACP,CAAC;AAEV,CAAC;AAAArF,EAAA,CApjBKU,aAAa;AAAAoF,EAAA,GAAbpF,aAAa;AAsjBnB,eAAeA,aAAa;AAAA,IAAAoF,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}